import{_ as t,c as i,o,aj as r}from"./chunks/framework.Bbpi2Fiw.js";const u=JSON.parse('{"title":"SyncGuard Specs","description":"","frontmatter":{},"headers":[],"relativePath":"specs/README.md","filePath":"specs/README.md","lastUpdated":1764705171000}'),a={name:"specs/README.md"};function s(n,e,c,d,l,p){return o(),i("div",null,[...e[0]||(e[0]=[r('<h1 id="syncguard-specs" tabindex="-1">SyncGuard Specs <a class="header-anchor" href="#syncguard-specs" aria-label="Permalink to “SyncGuard Specs”">​</a></h1><p>Specifications for the distributed lock system. Read in this order:</p><ol><li><code>interface.md</code> — core LockBackend contract and required diagnostics</li><li>Backend deltas — <code>redis-backend.md</code>, <code>postgres-backend.md</code>, <code>firestore-backend.md</code></li><li>ADRs — <code>../adr/</code> for decision history</li></ol><p>Quick lookup:</p><ul><li>API contract, errors, lookup requirements → <code>interface.md</code></li><li>Redis/Postgres/Firestore implementation notes → backend files</li><li>Architecture decisions → <code>../adr/</code> (000-template, 003-explicit-ownership-verification, 004-lexicographic-fence-comparison, 005-unified-time-tolerance, 006-mandatory-key-truncation, 007-opt-in-telemetry, 008-compile-time-fencing, 009-retries-in-helpers, 010-authoritative-expiresat, 011-relaxed-lookup-atomicity, 012-backend-restatement-pattern, 013-full-storage-key-in-index, 014-firestore-duplicate-detection, 015-async-raii-locks, 016-disposal-timeout)</li></ul><p>Developer Notes:</p><ul><li>Requirements live in <strong>Requirements</strong> subsections; rationale stays in <strong>Rationale &amp; Notes</strong>. MUST/SHOULD/MAY/NEVER appear only in Requirements.</li><li>Backend specs restate inherited requirements (ADR-012) and add storage schema, atomicity, error mapping, TTL, and performance notes.</li><li>When implementing a new backend, ensure atomic mutations, TOCTOU protection for release/extend, both key- and lockId-based <code>lookup()</code>, and reuse <code>isLive()</code> from <code>common/time-predicates.ts</code>.</li></ul><p>Keywords:</p><ul><li>MUST = required for contract, SHOULD = strong default, MAY = optional, NEVER = forbidden. Use only in Requirements sections.</li></ul>',9)])])}const f=t(a,[["render",s]]);export{u as __pageData,f as default};
